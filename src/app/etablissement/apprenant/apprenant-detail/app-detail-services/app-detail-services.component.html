<div class="grid">
  <div class="col-12">
    <ng-container *ngIf="visibleService">
      <div class="field col-12">
        <p-dropdown
          [options]="allServices"
          (onChange)="addService($event.value)"
          class="form-control"
          placeholder="Choix de le service"
          [(ngModel)]="idService"
          [optionValue]="'_id'"
          [optionLabel]="'label'"
        ></p-dropdown>
      </div>
    </ng-container>
    <div class="col-12 d-flex">
      <button (click)="onAddNewService()" class="ml-2" pButton>Ajouter</button>
      <button *ngIf="visibleService" (click)="onClose()" class="ml-2 p-button-danger" pButton>Annuler</button>
    </div>
  </div>
  <div class="col-12">
    <p-table [value]="services">
      <ng-template pTemplate="header">
        <tr>
          <th>Nom</th>
          <th>Prix</th>
          <th>Mois d√©marrage</th>
          <th>Nombre de mois</th>
          <th>Action</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-service>
        <tr>
          <td>{{ service.label }}</td>
          <td>{{ service.tarif }}</td>
          <td>{{ service.debutMois }}</td>
          <td>{{ service.nbMois }}</td>
          <td>
            <button
              pButton
              pRipple
              icon="pi pi-trash"
              class="p-button-rounded p-button-danger p-button-text"
              (click)="removeService(service._id)"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>


<p-toast></p-toast>
